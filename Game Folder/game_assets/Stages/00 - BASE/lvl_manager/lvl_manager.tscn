[gd_scene load_steps=2 format=3 uid="uid://cjce8owj17wr7"]

[sub_resource type="GDScript" id="GDScript_p14kw"]
resource_name = "level_manager"
script/source = "extends Node
signal xp_gained(amount)
signal level_up()

@onready var score_timer = Timer.new()

func _enter_tree() -> void:
	global.lvl_manager = self

func _ready() -> void:
	score_timer.autostart = true
	score_timer.wait_time = 1.0
	add_child(score_timer)
	score_timer.connect(\"timeout\", update_score_per_sec)


func update_score_per_sec():
	if is_instance_valid(global.current_stage):
		score_event.update_score(4)

func _exit_tree() -> void:
	global.lvl_manager = null
"

[node name="LVL_MANAGER" type="Node"]
script = SubResource("GDScript_p14kw")
