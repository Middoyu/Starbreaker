[gd_scene load_steps=5 format=3 uid="uid://cpyhh3wvmfubr"]

[ext_resource type="Texture2D" uid="uid://c81cndsphnu1t" path="res://Game Folder/game_assets/Enemies/Tres-2B/Trishooter/Sprites/bullet2.png" id="1_gaipu"]
[ext_resource type="Script" path="res://Game Folder/game_components/collision_component/Databox/databox.gd" id="2_oce66"]

[sub_resource type="GDScript" id="GDScript_qlpno"]
script/source = "extends Projectile


func _physics_process(delta: float) -> void:
	velocity = transform.x * delta * speed
	move_and_slide()

func timeout() -> void:
	if is_instance_valid(global.player):
		look_at(global.player.global_position)
		speed *= 5

func pteam_hurtbox_entered(area: Databox) -> void:
	area.take_damage(hitbox)
"

[sub_resource type="CircleShape2D" id="CircleShape2D_sdpf7"]
radius = 8.0

[node name="BulletTrishooter" type="CharacterBody2D" node_paths=PackedStringArray("hitbox")]
script = SubResource("GDScript_qlpno")
speed = 2300
hitbox = NodePath("Hitbox")

[node name="Timer" type="Timer" parent="."]
one_shot = true
autostart = true

[node name="Sprite" type="Sprite2D" parent="."]
modulate = Color(1, 0, 1, 1)
texture = ExtResource("1_gaipu")

[node name="Hitbox" type="Area2D" parent="." node_paths=PackedStringArray("parent")]
script = ExtResource("2_oce66")
parent = NodePath("..")
team_affiliation = "EnemyTeam"
damage = 15.0
knockback_amount = 1500.0
knockback_stun_duration = 0.5

[node name="Collision" type="CollisionShape2D" parent="Hitbox"]
shape = SubResource("CircleShape2D_sdpf7")

[connection signal="timeout" from="Timer" to="." method="timeout"]
[connection signal="PlayerTeamHurtbox_entered" from="Hitbox" to="." method="pteam_hurtbox_entered"]
