[gd_scene load_steps=93 format=3 uid="uid://c8cl1sli3qnjh"]

[ext_resource type="PackedScene" uid="uid://c0qsib2m70nmv" path="res://Game Folder/game_components/entity_components/State Machine/stagemachine_parent.tscn" id="1_8jj6y"]
[ext_resource type="Texture2D" uid="uid://fs5p06uv4ecd" path="res://Game Folder/game_assets/Menus/MainMenu/BASE/Textures/bg.png" id="1_ai1e2"]
[ext_resource type="Theme" uid="uid://b1rbffoke0vnr" path="res://Game Folder/game_assets/Menus/Themes/MenuUI_Theme.tres" id="3_mm2qm"]
[ext_resource type="Texture2D" uid="uid://cs6s2641cjjdq" path="res://Game Folder/game_assets/Menus/MainMenu/Sprites/title.png" id="3_wslbo"]

[sub_resource type="GDScript" id="GDScript_cf4c7"]
resource_name = "mainmenu"
script/source = "extends Node2D

func _ready() -> void:
	global.current_stage = self
"

[sub_resource type="AtlasTexture" id="AtlasTexture_ai1e2"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 0, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_8jj6y"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 0, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_g26pg"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 0, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_n6j81"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 0, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_fxp30"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 0, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_b38tb"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 0, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_dermj"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 360, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_cs2c2"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 360, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_8yjfr"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 360, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_a4p2x"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 360, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_yhjke"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 360, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_aga7x"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 360, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_4qvn5"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 720, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_ml5bq"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 720, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_u6hpw"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 720, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_t4pye"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 720, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_w5w7n"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 720, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_4bbm3"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 720, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_o7xpp"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 1080, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_f2b63"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 1080, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_ekola"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 1080, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_gbel8"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 1080, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_c0p8i"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 1080, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_7y7o2"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 1080, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_ajpys"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 1440, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_u5ynv"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 1440, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ohh2"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 1440, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_2vp66"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 1440, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_wtukl"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 1440, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_5a0ql"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 1440, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_lyjq5"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 1800, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_hecj5"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 1800, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_8f0eh"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 1800, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_cwf2o"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 1800, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_vp33o"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 1800, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_psgsd"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 1800, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_gd1tw"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 2160, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_3gfn7"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 2160, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_npbho"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 2160, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_svtke"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 2160, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_p23nu"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 2160, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_82trw"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 2160, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_srmxi"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 2520, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_ve28b"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 2520, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_vum28"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 2520, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_s2ffe"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 2520, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_et1ch"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 2520, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_mf21b"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 2520, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_f44fs"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 2880, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_4wug5"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 2880, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_iegho"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 2880, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_81qal"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1920, 2880, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_ttjvo"]
atlas = ExtResource("1_ai1e2")
region = Rect2(2560, 2880, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_gv27j"]
atlas = ExtResource("1_ai1e2")
region = Rect2(3200, 2880, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_py27y"]
atlas = ExtResource("1_ai1e2")
region = Rect2(0, 3240, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_emcpn"]
atlas = ExtResource("1_ai1e2")
region = Rect2(640, 3240, 640, 360)

[sub_resource type="AtlasTexture" id="AtlasTexture_8meks"]
atlas = ExtResource("1_ai1e2")
region = Rect2(1280, 3240, 640, 360)

[sub_resource type="SpriteFrames" id="SpriteFrames_166hw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ai1e2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8jj6y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g26pg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n6j81")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fxp30")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b38tb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dermj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cs2c2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8yjfr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a4p2x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yhjke")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aga7x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4qvn5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ml5bq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u6hpw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t4pye")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w5w7n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4bbm3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o7xpp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f2b63")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ekola")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gbel8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c0p8i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7y7o2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ajpys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u5ynv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ohh2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2vp66")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wtukl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5a0ql")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lyjq5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hecj5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8f0eh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cwf2o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vp33o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_psgsd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gd1tw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3gfn7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_npbho")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_svtke")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p23nu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_82trw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_srmxi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ve28b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vum28")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s2ffe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_et1ch")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mf21b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f44fs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4wug5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iegho")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_81qal")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ttjvo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gv27j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_py27y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_emcpn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8meks")
}],
"loop": true,
"name": &"default",
"speed": 120.0
}]

[sub_resource type="GDScript" id="GDScript_n6j81"]
script/source = "extends Control
var movement_location = Vector2(128, -128)

var children_index = self.get_children()
@onready var focus_index = 0
@onready var max_child_count = self.get_child_count() - 1
@onready var focused_node = get_child(focus_index) as Button
var is_tween_running = false

func _physics_process(delta: float) -> void:
	focused_node = get_child(focus_index) as Button
	move_menu()

func move_menu():
	focus_index = clamp(focus_index, 0, get_child_count())
	if Input.is_action_just_pressed(\"ui_up\", true) and focus_index != 0 and is_tween_running == false:
		is_tween_running = true
		focus_index -= 1
		for i in get_children():
			var mm_ui_tween_up = create_tween().set_ease(Tween.EASE_IN_OUT).set_trans(Tween.TRANS_CUBIC).set_parallel(true)
			var d = i.global_position.x - movement_location.x
			var z = i.global_position.y - movement_location.y
			mm_ui_tween_up.tween_property(i, \"global_position:x\", d, 0.1)
			mm_ui_tween_up.tween_property(i, \"global_position:y\", z, 0.1)
			mm_ui_tween_up.tween_callback(func(): is_tween_running = false)
			
			
	if Input.is_action_just_pressed(\"ui_down\", true) and focus_index != max_child_count and is_tween_running == false:
		focus_index += 1
		is_tween_running = true
		for i in get_children():
			var mm_ui_tween = create_tween().set_ease(Tween.EASE_IN_OUT).set_trans(Tween.TRANS_CUBIC).set_parallel(true)
			var d = i.global_position.x + movement_location.x
			var z = i.global_position.y + movement_location.y
			mm_ui_tween.tween_property(i, \"global_position:x\", d, 0.1)
			mm_ui_tween.tween_property(i, \"global_position:y\", z, 0.1)
			mm_ui_tween.tween_callback(func(): is_tween_running = false)
			
			
"

[sub_resource type="GDScript" id="GDScript_ai1e2"]
script/source = "extends Button

signal custom_focus(node)

func _ready() -> void:
	pivot_offset = size / 2

func _on_pressed() -> void:
	disabled = true
	$\"../../../Camera/FadingImage/FadeAnimation\".play(\"Fade\")
	await $\"../../../Camera/FadingImage/FadeAnimation\".animation_finished
	global.main_manager.add_child(load(\"res://Game Folder/game_assets/Stages/01 - Tres-2B/Tres-2B.tscn\").instantiate())
	$\"../../..\".queue_free()
"

[sub_resource type="GDScript" id="GDScript_fxp30"]
script/source = "extends Button
signal custom_focus(node)

func _ready() -> void:
	pivot_offset = size / 2

func _on_pressed() -> void:
	$\"../../../Camera\".enabled = false
	$\"../../../Options/Camera2D\".enabled = true
"

[sub_resource type="GDScript" id="GDScript_g26pg"]
script/source = "extends State
@onready var fade_animation: AnimationPlayer = $\"../../Camera/FadingImage/FadeAnimation\"

@onready var accepts_input = false


func enter():
	fade_animation.play_backwards(\"Fade\")

func update(_delta):
	if fade_animation.is_playing():
		accepts_input = false
	else:
		accepts_input = true
	
	if Input.is_anything_pressed() and accepts_input:
		fade_animation.play(\"Fade\")
		await fade_animation.animation_finished
		
		Transistioned.emit(self, $\"../MainMenu\".name)

func exit():
	fade_animation.play_backwards(\"Fade\")
"

[sub_resource type="GDScript" id="GDScript_dmoyy"]
script/source = "extends State

func enter():
	$\"../../BGTexture/MainMenuBase\".process_mode = Node.PROCESS_MODE_ALWAYS
	$\"../../Camera/FadingImage/FadeAnimation\".play_backwards(\"Fade\")
	$\"../../Camera\".global_position = Vector2(2000, 2000)
"

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_e5p0j"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(1000, 1000, 1)
gravity = Vector3(0, 0, 0)
color = Color(1, 1, 1, 0.00784314)

[sub_resource type="Animation" id="Animation_8jj6y"]
resource_name = "Fade"
length = 0.3
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_g26pg"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_n6j81"]
_data = {
&"Fade": SubResource("Animation_8jj6y"),
&"RESET": SubResource("Animation_g26pg")
}

[sub_resource type="Curve" id="Curve_g26pg"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_n6j81"]
curve = SubResource("Curve_g26pg")

[sub_resource type="Curve" id="Curve_fxp30"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.251534, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_b38tb"]
curve = SubResource("Curve_fxp30")

[sub_resource type="Curve" id="Curve_8jj6y"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_g26pg"]
curve = SubResource("Curve_8jj6y")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_n6j81"]
particle_flag_disable_z = true
emission_shape_offset = Vector3(486.5, 0, 0)
emission_shape = 3
emission_box_extents = Vector3(997.5, 919, 1)
direction = Vector3(0, 0, 0)
radial_velocity_min = -2.23517e-05
radial_velocity_max = 149.25
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("CurveTexture_b38tb")
alpha_curve = SubResource("CurveTexture_n6j81")
hue_variation_min = -0.01
hue_variation_max = 0.00999998
turbulence_enabled = true
turbulence_influence_min = 0.155
turbulence_influence_max = 0.202
turbulence_influence_over_life = SubResource("CurveTexture_g26pg")

[sub_resource type="GDScript" id="GDScript_vca51"]
script/source = "extends CustomButton
@onready var main_camera: Camera2D = $\"../../MainCamera\"
@onready var options_camera: Camera2D = $\"../../OptionsCamera\"
@onready var mm_music: AudioStreamPlayer = $\"../../MM_Music\"

func _ready() -> void:
	super()
	self.connect(\"pressed\", pressed)

func pressed():
	$\"../../Camera\".enabled = true
	$\"../Camera2D\".enabled = false
"

[sub_resource type="GDScript" id="GDScript_a4pt7"]
script/source = "extends CustomButton


func _ready() -> void:
	button_pressed = options.screenshake_enabled

func _physics_process(delta: float) -> void:
	super(delta)
	match button_pressed:
		true:
			text = \"Screenshake : ON\"
			options.screenshake_enabled = true
		false:
			text = \"Screenshake : OFF\"
			options.screenshake_enabled = false
"

[sub_resource type="GDScript" id="GDScript_xuveb"]
script/source = "extends CustomButton

func _ready() -> void:
	button_pressed = options.screen_flash

func _physics_process(delta: float) -> void:
	super(delta)
	match button_pressed:
		true:
			text = \"Screen-Flashing : ON\"
			options.screen_flash = true
		false:
			text = \"Screen-Flashing : OFF\"
			options.screen_flash = false
"

[sub_resource type="GDScript" id="GDScript_faceb"]
script/source = "extends CustomButton

func _ready() -> void:
	button_pressed = options.extra_vfx

func _physics_process(delta: float) -> void:
	super(delta)
	match button_pressed:
		true:
			text = \"Extra VFX : ON\"
			options.extra_vfx = true
		false:
			text = \"Extra VFX : OFF\"
			options.extra_vfx = false
"

[sub_resource type="GDScript" id="GDScript_sfec3"]
script/source = "extends HSlider

@export var audio_bus_name := \"Master\"

@onready var _bus := AudioServer.get_bus_index(audio_bus_name)


func _ready() -> void:
	value = db_to_linear(AudioServer.get_bus_volume_db(_bus))

func _on_value_changed(value: float) -> void:
	AudioServer.set_bus_volume_db(0, linear_to_db(value))
"

[sub_resource type="GDScript" id="GDScript_wo5kl"]
script/source = "extends HSlider

@export var audio_bus_name := \"Master\"

@onready var _bus := AudioServer.get_bus_index(audio_bus_name)


func _ready() -> void:
	value = db_to_linear(AudioServer.get_bus_volume_db(1))

func _on_value_changed(value: float) -> void:
	AudioServer.set_bus_volume_db(1, linear_to_db(value))
"

[sub_resource type="GDScript" id="GDScript_n2lrk"]
script/source = "extends HSlider

@export var audio_bus_name := \"Master\"

@onready var _bus := AudioServer.get_bus_index(audio_bus_name)


func _ready() -> void:
	value = db_to_linear(AudioServer.get_bus_volume_db(2))

func _on_value_changed(value: float) -> void:
	AudioServer.set_bus_volume_db(2, linear_to_db(value))
"

[sub_resource type="GDScript" id="GDScript_w84vj"]
script/source = "extends HSlider
@onready var environment: WorldEnvironment = $\"../../../Environment\"


func _ready() -> void:
	environment.environment.glow_bloom = options.bloom
	value = environment.environment.glow_bloom

func value_changed(value: float) -> void:
	environment.environment.glow_bloom = value
	options.bloom = value
"

[sub_resource type="GDScript" id="GDScript_8jj6y"]
script/source = "extends Button
"

[sub_resource type="Animation" id="Animation_lhi5l"]
resource_name = "Fade"
length = 0.62
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Black:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.55),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Black")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.00999999, 0.55),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"show"
}, {
"args": [],
"method": &"hide"
}]
}

[sub_resource type="Animation" id="Animation_igopm"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Black:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Black")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hide"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_n1wfx"]
_data = {
&"Fade": SubResource("Animation_lhi5l"),
&"RESET": SubResource("Animation_igopm")
}

[sub_resource type="Environment" id="Environment_5lcc6"]
background_mode = 3
glow_enabled = true
glow_bloom = 0.25
adjustment_enabled = true
adjustment_saturation = 1.1

[node name="MainMenu" type="Node2D"]
script = SubResource("GDScript_cf4c7")

[node name="BGTexture" type="AnimatedSprite2D" parent="."]
position = Vector2(2000, 2000)
sprite_frames = SubResource("SpriteFrames_166hw")
autoplay = "default"
frame_progress = 0.359092
speed_scale = 0.5

[node name="BG" type="ColorRect" parent="BGTexture"]
visible = false
offset_left = -1566.0
offset_top = 1305.0
offset_right = 1917.0
offset_bottom = 1649.0
rotation = -0.785397
color = Color(0, 0, 0.156863, 1)

[node name="Border" type="ColorRect" parent="BGTexture"]
visible = false
texture_repeat = 1
offset_left = -805.161
offset_top = 528.0
offset_right = 1109.84
offset_bottom = 548.0
rotation = -0.785397
mouse_filter = 1

[node name="Border2" type="ColorRect" parent="BGTexture"]
visible = false
offset_left = -454.194
offset_top = 660.0
offset_right = 1348.81
offset_bottom = 680.0
rotation = -0.785397
size_flags_stretch_ratio = 5.53
mouse_filter = 1

[node name="MainMenuBase" type="Control" parent="BGTexture"]
process_mode = 4
layout_mode = 3
anchors_preset = 0
offset_left = -268.387
offset_top = 216.0
offset_right = -228.387
offset_bottom = 256.0
script = SubResource("GDScript_n6j81")

[node name="play" type="Button" parent="BGTexture/MainMenuBase"]
z_index = 1120
custom_minimum_size = Vector2(330, 96)
layout_mode = 1
anchors_preset = -1
anchor_left = -9.548
anchor_top = -13.8
anchor_right = 22.194
anchor_bottom = 4.2
offset_left = 484.436
offset_top = 288.0
offset_right = -454.244
offset_bottom = -336.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
theme = ExtResource("3_mm2qm")
theme_override_font_sizes/font_size = 45
shortcut_feedback = false
shortcut_in_tooltip = false
text = "PLAY"
flat = true
icon_alignment = 1
script = SubResource("GDScript_ai1e2")

[node name="settings" type="Button" parent="BGTexture/MainMenuBase"]
z_index = 1120
custom_minimum_size = Vector2(330, 96)
layout_mode = 1
anchors_preset = -1
anchor_left = -16.0
anchor_top = -9.0
anchor_right = 16.0
anchor_bottom = 9.0
offset_left = 612.387
offset_top = 224.0
offset_right = -337.613
offset_bottom = -400.0
grow_horizontal = 2
grow_vertical = 2
focus_mode = 0
theme = ExtResource("3_mm2qm")
theme_override_font_sizes/font_size = 45
shortcut_feedback = false
shortcut_in_tooltip = false
text = "OPTIONS"
flat = true
icon_alignment = 1
script = SubResource("GDScript_fxp30")

[node name="StateMachine" parent="." node_paths=PackedStringArray("parent", "intial_state") instance=ExtResource("1_8jj6y")]
parent = NodePath("..")
intial_state = NodePath("SplashScreen")

[node name="SplashScreen" type="Node" parent="StateMachine" node_paths=PackedStringArray("parent")]
script = SubResource("GDScript_g26pg")
parent = NodePath("../..")
is_state_cancelable = false
metadata/_custom_type_script = "uid://dmgbhcexe6fw"

[node name="MainMenu" type="Node" parent="StateMachine"]
script = SubResource("GDScript_dmoyy")
is_state_cancelable = false
metadata/_custom_type_script = "uid://dmgbhcexe6fw"

[node name="VisualEffects" type="Node2D" parent="."]

[node name="Motionlines" type="GPUParticles2D" parent="VisualEffects"]
position = Vector2(336, 8)
amount = 2743
lifetime = 3.0
preprocess = 20.0
fixed_fps = 28
interpolate = false
visibility_rect = Rect2(-348, -25, 686.5, 387)
process_material = SubResource("ParticleProcessMaterial_e5p0j")

[node name="Camera" type="Camera2D" parent="."]
ignore_rotation = false
process_callback = 0

[node name="FadingImage" type="ColorRect" parent="Camera"]
z_index = 4096
anchors_preset = -1
anchor_left = -0.562
anchor_top = -0.578
anchor_right = 0.525
anchor_bottom = 0.556
offset_left = -520.0
offset_top = -312.0
offset_right = 504.0
offset_bottom = 312.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(348.5, 213.5)
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="FadeAnimation" type="AnimationPlayer" parent="Camera/FadingImage"]
libraries = {
&"": SubResource("AnimationLibrary_n6j81")
}

[node name="SplashMenu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("3_mm2qm")

[node name="Title" type="TextureRect" parent="SplashMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -296.0
offset_top = -240.0
offset_right = 296.0
offset_bottom = 240.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_wslbo")

[node name="StarTwinkles" type="GPUParticles2D" parent="SplashMenu"]
z_index = -4096
position = Vector2(0, -8)
amount = 512
lifetime = 2.0
randomness = 1.0
fixed_fps = 144
visibility_rect = Rect2(-100, -100, 1157.5, 643.5)
process_material = SubResource("ParticleProcessMaterial_n6j81")

[node name="Container" type="Control" parent="SplashMenu"]
anchors_preset = 0
offset_left = -20.0
offset_top = 72.0
offset_right = 20.0
offset_bottom = 112.0

[node name="Label" type="RichTextLabel" parent="SplashMenu/Container"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
bbcode_enabled = true
text = "[i]Press any button."
fit_content = true
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 1
vertical_alignment = 1

[node name="Options" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1984.0
offset_right = 3904.0
offset_bottom = 1080.0
grow_horizontal = 2
grow_vertical = 2

[node name="Camera2D" type="Camera2D" parent="Options"]
position = Vector2(416, 280)
enabled = false
zoom = Vector2(0.5, 0.5)

[node name="ReturnToMenuButton" type="Button" parent="Options"]
layout_mode = 0
offset_right = 192.0
offset_bottom = 64.0
theme = ExtResource("3_mm2qm")
text = "Return"
script = SubResource("GDScript_vca51")
scales_with_input = false

[node name="OptionsContainer" type="VBoxContainer" parent="Options"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -680.0
offset_top = -364.0
offset_right = -466.0
offset_bottom = -123.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(3.5, 3.5)

[node name="Screenshake" type="Button" parent="Options/OptionsContainer"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
toggle_mode = true
button_pressed = true
shortcut_feedback = false
shortcut_in_tooltip = false
text = "Screenshake : "
script = SubResource("GDScript_a4pt7")

[node name="Screen Flashing" type="Button" parent="Options/OptionsContainer"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
toggle_mode = true
button_pressed = true
text = "Screen Flashing"
script = SubResource("GDScript_xuveb")

[node name="Extra Particles" type="Button" parent="Options/OptionsContainer"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
toggle_mode = true
button_pressed = true
text = "Extra VFX : "
script = SubResource("GDScript_faceb")

[node name="Container" type="VBoxContainer" parent="Options"]
layout_mode = 1
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -1936.0
offset_top = -372.0
offset_right = -1681.0
offset_bottom = -116.0
grow_horizontal = 0
grow_vertical = 2
size_flags_horizontal = 0

[node name="MasterAudio" type="Label" parent="Options/Container"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
text = "Master Audio "
horizontal_alignment = 1

[node name="Master Vol" type="HSlider" parent="Options/Container"]
layout_mode = 2
max_value = 2.0
step = 0.1
script = SubResource("GDScript_sfec3")

[node name="SFX" type="Label" parent="Options/Container"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
text = "SFX"
horizontal_alignment = 1

[node name="SFX Vol" type="HSlider" parent="Options/Container"]
layout_mode = 2
max_value = 2.0
step = 0.1
script = SubResource("GDScript_wo5kl")
audio_bus_name = "SFX"

[node name="Music" type="Label" parent="Options/Container"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
text = "Music
"
horizontal_alignment = 1

[node name="Music Vol" type="HSlider" parent="Options/Container"]
layout_mode = 2
max_value = 2.0
step = 0.1
script = SubResource("GDScript_n2lrk")

[node name="Bloom_Text" type="Label" parent="Options/Container"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
text = "Bloom"
horizontal_alignment = 1

[node name="Bloom" type="HSlider" parent="Options/Container"]
layout_mode = 2
theme = ExtResource("3_mm2qm")
max_value = 1.0
step = 0.1
script = SubResource("GDScript_w84vj")

[node name="Skills" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
theme = ExtResource("3_mm2qm")

[node name="Return" type="Button" parent="Skills"]
layout_mode = 0
offset_left = 27.0
offset_top = 1168.0
offset_right = 192.0
offset_bottom = 1215.0
text = "Return"
script = SubResource("GDScript_8jj6y")

[node name="primary" type="OptionButton" parent="Skills"]
layout_mode = 0
offset_left = 120.0
offset_top = 1664.0
offset_right = 304.0
offset_bottom = 1728.0
selected = 0
allow_reselect = true
item_count = 3
popup/item_0/text = "Spray"
popup/item_0/id = 0
popup/item_1/text = "Shotgun"
popup/item_1/id = 1
popup/item_2/text = "Slash"
popup/item_2/id = 2

[node name="secondary" type="OptionButton" parent="Skills"]
layout_mode = 0
offset_left = 384.0
offset_top = 1664.0
offset_right = 568.0
offset_bottom = 1728.0
selected = 0
item_count = 1
popup/item_0/text = "None"
popup/item_0/id = 0

[node name="utility" type="OptionButton" parent="Skills"]
layout_mode = 0
offset_left = 640.0
offset_top = 1664.0
offset_right = 824.0
offset_bottom = 1728.0
selected = 0
allow_reselect = true
item_count = 2
popup/item_0/text = "Zip-Dash"
popup/item_0/id = 0
popup/item_1/text = "Shine"
popup/item_1/id = 1

[node name="breaker" type="OptionButton" parent="Skills"]
layout_mode = 0
offset_left = 896.0
offset_top = 1664.0
offset_right = 1080.0
offset_bottom = 1728.0
selected = 0
item_count = 1
popup/item_0/text = "None"
popup/item_0/id = 0

[node name="Fade" type="Node" parent="."]

[node name="Black" type="ColorRect" parent="Fade"]
visible = false
z_index = 10
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
color = Color(0, 0, 0, 1)

[node name="Fade" type="AnimationPlayer" parent="Fade"]
libraries = {
&"": SubResource("AnimationLibrary_n1wfx")
}
autoplay = "Fade"

[node name="Environment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5lcc6")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[connection signal="pressed" from="BGTexture/MainMenuBase/play" to="BGTexture/MainMenuBase/play" method="_on_pressed"]
[connection signal="pressed" from="BGTexture/MainMenuBase/settings" to="BGTexture/MainMenuBase/settings" method="_on_pressed"]
[connection signal="value_changed" from="Options/Container/Master Vol" to="Options/Container/Master Vol" method="_on_value_changed"]
[connection signal="value_changed" from="Options/Container/SFX Vol" to="Options/Container/SFX Vol" method="_on_value_changed"]
[connection signal="value_changed" from="Options/Container/Music Vol" to="Options/Container/Music Vol" method="_on_value_changed"]
[connection signal="value_changed" from="Options/Container/Bloom" to="Options/Container/Bloom" method="value_changed"]
[connection signal="pressed" from="Skills/Return" to="Skills/Return" method="on_pressed"]
[connection signal="item_selected" from="Skills/primary" to="Skills" method="_on_primary_item_selected"]
[connection signal="item_selected" from="Skills/secondary" to="Skills" method="_on_secondary_item_selected"]
[connection signal="item_selected" from="Skills/utility" to="Skills" method="_on_utility_item_selected"]
[connection signal="item_selected" from="Skills/breaker" to="Skills" method="_on_breaker_item_selected"]
